<!DOCTYPE html>
<html>

<head>
  <title>WebSocket test</title>
</head>

<body>
  <main>
    Status: <span id="hello"></span>
  </main>

  <button id='button' type="submit">yeet</button>

  <button id='button2' type="submit">get connections</button>

  <button id='button3' type="submit">ready</button>

  <button id='button4' type="submit">next turn</button>

  <!-- Poor coding standard, only for demonstration purposes.
             JavaScript code should not be part of HTML documents.
        -->
  <script>
    var socket = new WebSocket("ws://localhost:3000")
    socket.onmessage = function(event) {
      document.getElementById("hello").innerHTML = event.data
    }
    socket.onopen = function() {
      socket.send("Hello from the client!")
      document.getElementById("hello").innerHTML = "Sending a first message to the server ..."
    }

    document.getElementById('button').addEventListener("click", function() {
      socket.send("Button pressed")
    })

    document.getElementById('button2').addEventListener("click", function() {
      socket.send("connections")
    })

    document.getElementById('button3').addEventListener("click", function() {
      socket.send("ready")
    })

    document.getElementById('button4').addEventListener("click", function() {
      socket.send("next turn")
    })
  </script>
</body>

</html>
